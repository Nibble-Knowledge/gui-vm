INF
PINF
BADR 19
EPINF
DSEC D_SEC
DNUM 1
DSIZE 1
DNUM 1
DSIZE 2
DNUM 1
DSIZE 1
NSTART 3
EINF
LOD &(return[0])[0]
STR PS2_DRIVER.Exit[1]
LOD &(return[0])[1]
STR PS2_DRIVER.Exit[2]
LOD &(return[0])[2]
STR PS2_DRIVER.Exit[3]
LOD &(return[0])[3]
STR PS2_DRIVER.Exit[4]
Start:
LOD 3
JMP PS2_DRIVER.Enter
return:
LOD PS2_DRIVER.GotKey
JMP Start
LOD PS2_DRIVER.Keystroke[1]
STR macro[0]
LOD 18
STR 0
LOD 7
STR 1
LOD 3
STR 1
LOD 3
STR 1
LOD 4
STR 0
LOD macro[0]
STR 2
LOD 7
STR 1
LOD 3
STR 1
LOD 18
STR 0
LOD macro[0]
LOD 3
JMP Start
PS2_DRIVER.Enter:
LOD 5
STR 0
LOD 1
NND 5
NND 18
STR PS2_DRIVER.GotKey[0]
LOD PS2_DRIVER.GotKey
JMP PS2_DRIVER.Done
LOD 11
STR 1
LOD 2
STR PS2_DRIVER.Keystroke[0]
LOD 3
STR 1
LOD 11
STR 1
LOD 2
STR PS2_DRIVER.Keystroke[1]
LOD 3
STR 1
PS2_DRIVER.Done:
LOD 18
STR 0
LOD 3
PS2_DRIVER.Exit:
JMP 0x0000
PS2_DRIVER.GotKey: D_SEC: .data 1
PS2_DRIVER.Keystroke: .data 2
macro: .data 1
